:PROPERTIES:
:ID:       8c1f5398-11fb-42c6-aea0-0fd2f18043a4
:mtime:    20251226175936 20250501132113
:ctime:    20250501132113
:END:
#+TITLE: Git Tags
#+FILETAGS: :git:vc:versioncontrol:tags:

Tags, like branches, are just pointers to specific commits.

* Applying Tags

** To Old Commits

Really useful [[https://stackoverflow.com/a/21759466/1444043][post]] that shows how to apply tags to old commits with the correct date.

 #+begin_src
git checkout 123456asd
GIT_COMMITER_DATE="$(git show --format=%aD | head -1)" git tag -a v2.3.0 -m "v2.3.0"
git push origin --tags
git checkout main
 #+end_src

** Tags to archive old branches

I came across this neat idea to use ~git tag~ to [[https://etc.octavore.com/2025/12/archiving-git-branches-as-tags/][archive old branches]]. It included the following alias and is dependent
on ~git-completion.zsh~ and ~git-completion.bash~ in [[id:a1b78518-31e8-4fd3-a36f-d8f152832138][ZSH]]. It reuses the current branch name, prefixing it with ~archive/~

#+begin_example
# ~/.gitconfig
[alias]
archive-branch = "!f() { \
    : git switch; \
    local git_branch=${1:-$(git branch --show-current)}; \
    git co main && \
      git tag archive/$git_branch $git_branch && \
      git branch -D $git_branch; \
  }; f"

#+end_example

The author was inspired by a [[https://www.reddit.com/r/git/comments/1gi6idg/whats_good_practice_for_archiving_old_branches/][Reddit thread]] which also shows how easy it is to create a branch from the old commit
assuming the above convention of ~archive/<branch>~ is used as per the above alias.

#+begin_example
git checkout -b <branch>
#+end_example
